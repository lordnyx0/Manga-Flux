============================= test session starts =============================
platform win32 -- Python 3.14.0, pytest-9.0.2, pluggy-1.6.0 -- C:\Users\Nyx\AppData\Local\Programs\Python\Python314\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\Nyx\Desktop\MANGACOLOR
configfile: pytest.ini
plugins: anyio-4.12.0
collecting ... 
----------------------------- live log collection -----------------------------
2026-02-14 22:33:03 [    INFO] Loading faiss with AVX2 support.
2026-02-14 22:33:03 [    INFO] Successfully loaded faiss with AVX2 support.
2026-02-14 22:33:04 [   ERROR] Form data requires "python-multipart" to be installed. 
You can install "python-multipart" with: 

pip install python-multipart

collected 10 items / 1 error

=================================== ERRORS ====================================
_________ ERROR collecting tests/integration/test_api_persistence.py __________
tests\integration\test_api_persistence.py:13: in <module>
    from api.routes.chapter import twopass
api\routes\chapter\twopass.py:320: in <module>
    @router.post("/analyze", response_model=ChapterStatusResponse)
     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\AppData\Local\Programs\Python\Python314\Lib\site-packages\fastapi\routing.py:1063: in decorator
    self.add_api_route(
..\..\AppData\Local\Programs\Python\Python314\Lib\site-packages\fastapi\routing.py:1002: in add_api_route
    route = route_class(
..\..\AppData\Local\Programs\Python\Python314\Lib\site-packages\fastapi\routing.py:621: in __init__
    self.dependant = get_dependant(
..\..\AppData\Local\Programs\Python\Python314\Lib\site-packages\fastapi\dependencies\utils.py:276: in get_dependant
    param_details = analyze_param(
..\..\AppData\Local\Programs\Python\Python314\Lib\site-packages\fastapi\dependencies\utils.py:495: in analyze_param
    ensure_multipart_is_installed()
..\..\AppData\Local\Programs\Python\Python314\Lib\site-packages\fastapi\dependencies\utils.py:109: in ensure_multipart_is_installed
    raise RuntimeError(multipart_not_installed_error) from None
E   RuntimeError: Form data requires "python-multipart" to be installed. 
E   You can install "python-multipart" with: 
E   
E   pip install python-multipart
============================== warnings summary ===============================
<frozen importlib._bootstrap>:491
  <frozen importlib._bootstrap>:491: DeprecationWarning: builtin type SwigPyPacked has no __module__ attribute

<frozen importlib._bootstrap>:491
  <frozen importlib._bootstrap>:491: DeprecationWarning: builtin type SwigPyObject has no __module__ attribute

<frozen importlib._bootstrap>:491
  <frozen importlib._bootstrap>:491: DeprecationWarning: builtin type swigvarlink has no __module__ attribute

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ===========================
ERROR tests/integration/test_api_persistence.py - RuntimeError: Form data req...
!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
======================== 3 warnings, 1 error in 8.85s =========================
