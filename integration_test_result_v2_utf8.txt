============================= test session starts =============================
platform win32 -- Python 3.14.0, pytest-9.0.2, pluggy-1.6.0 -- C:\Users\Nyx\AppData\Local\Programs\Python\Python314\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\Nyx\Desktop\MANGACOLOR
configfile: pytest.ini
plugins: anyio-4.12.0
collecting ... 
----------------------------- live log collection -----------------------------
2026-02-14 22:30:33 [    INFO] Loading faiss with AVX2 support.
2026-02-14 22:30:33 [    INFO] Successfully loaded faiss with AVX2 support.
collected 7 items / 4 errors

=================================== ERRORS ====================================
________ ERROR collecting tests/integration/test_adr005_integration.py ________
ImportError while importing test module 'C:\Users\Nyx\Desktop\MANGACOLOR\tests\integration\test_adr005_integration.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
..\..\AppData\Local\Programs\Python\Python314\Lib\importlib\__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests\integration\test_adr005_integration.py:15: in <module>
    from core.analysis.point_matching import (
E   ModuleNotFoundError: No module named 'core.analysis.point_matching'
_________ ERROR collecting tests/integration/test_adr005_pipeline.py __________
ImportError while importing test module 'C:\Users\Nyx\Desktop\MANGACOLOR\tests\integration\test_adr005_pipeline.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
..\..\AppData\Local\Programs\Python\Python314\Lib\importlib\__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests\integration\test_adr005_pipeline.py:23: in <module>
    from config.settings import (
E   ImportError: cannot import name 'PCTC_POINT_ENABLED' from 'config.settings' (C:\Users\Nyx\Desktop\MANGACOLOR\config\settings.py)
_________ ERROR collecting tests/integration/test_api_persistence.py __________
tests\integration\test_api_persistence.py:13: in <module>
    from api.routes.chapter import twopass
api\routes\chapter\twopass.py:113: in <module>
    from core.pipeline import MangaColorizationPipeline, ChapterAnalysis, GenerationOptions
core\pipeline.py:20: in <module>
    from core.identity.hybrid_encoder import HybridIdentityEncoder
core\identity\__init__.py:11: in <module>
    from .hybrid_encoder import (
core\identity\hybrid_encoder.py:36: in <module>
    from transformers import CLIPImageProcessor, CLIPVisionModelWithProjection
..\..\AppData\Local\Programs\Python\Python314\Lib\site-packages\transformers\__init__.py:27: in <module>
    from . import dependency_versions_check
..\..\AppData\Local\Programs\Python\Python314\Lib\site-packages\transformers\dependency_versions_check.py:16: in <module>
    from .utils.versions import require_version, require_version_core
..\..\AppData\Local\Programs\Python\Python314\Lib\site-packages\transformers\utils\__init__.py:24: in <module>
    from .auto_docstring import (
..\..\AppData\Local\Programs\Python\Python314\Lib\site-packages\transformers\utils\auto_docstring.py:30: in <module>
    from .generic import ModelOutput
..\..\AppData\Local\Programs\Python\Python314\Lib\site-packages\transformers\utils\generic.py:34: in <module>
    from .import_utils import (
..\..\AppData\Local\Programs\Python\Python314\Lib\site-packages\transformers\utils\import_utils.py:232: in <module>
    _torchvision_available, _torchvision_version = _is_package_available("torchvision", return_version=True)
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\AppData\Local\Programs\Python\Python314\Lib\site-packages\transformers\utils\import_utils.py:47: in _is_package_available
    package_exists = importlib.util.find_spec(pkg_name) is not None
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib.util>:107: in find_spec
    ???
E   ValueError: torchvision.__spec__ is not set
______________ ERROR collecting tests/integration/test_pass1.py _______________
tests\integration\test_pass1.py:14: in <module>
    from core.pipeline import MangaColorizationPipeline, ChapterAnalysis
core\pipeline.py:20: in <module>
    from core.identity.hybrid_encoder import HybridIdentityEncoder
core\identity\__init__.py:11: in <module>
    from .hybrid_encoder import (
core\identity\hybrid_encoder.py:36: in <module>
    from transformers import CLIPImageProcessor, CLIPVisionModelWithProjection
..\..\AppData\Local\Programs\Python\Python314\Lib\site-packages\transformers\__init__.py:27: in <module>
    from . import dependency_versions_check
..\..\AppData\Local\Programs\Python\Python314\Lib\site-packages\transformers\dependency_versions_check.py:16: in <module>
    from .utils.versions import require_version, require_version_core
..\..\AppData\Local\Programs\Python\Python314\Lib\site-packages\transformers\utils\__init__.py:24: in <module>
    from .auto_docstring import (
..\..\AppData\Local\Programs\Python\Python314\Lib\site-packages\transformers\utils\auto_docstring.py:30: in <module>
    from .generic import ModelOutput
..\..\AppData\Local\Programs\Python\Python314\Lib\site-packages\transformers\utils\generic.py:34: in <module>
    from .import_utils import (
..\..\AppData\Local\Programs\Python\Python314\Lib\site-packages\transformers\utils\import_utils.py:232: in <module>
    _torchvision_available, _torchvision_version = _is_package_available("torchvision", return_version=True)
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\AppData\Local\Programs\Python\Python314\Lib\site-packages\transformers\utils\import_utils.py:47: in _is_package_available
    package_exists = importlib.util.find_spec(pkg_name) is not None
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib.util>:107: in find_spec
    ???
E   ValueError: torchvision.__spec__ is not set
============================== warnings summary ===============================
<frozen importlib._bootstrap>:491
  <frozen importlib._bootstrap>:491: DeprecationWarning: builtin type SwigPyPacked has no __module__ attribute

<frozen importlib._bootstrap>:491
  <frozen importlib._bootstrap>:491: DeprecationWarning: builtin type SwigPyObject has no __module__ attribute

<frozen importlib._bootstrap>:491
  <frozen importlib._bootstrap>:491: DeprecationWarning: builtin type swigvarlink has no __module__ attribute

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ===========================
ERROR tests/integration/test_adr005_integration.py
ERROR tests/integration/test_adr005_pipeline.py
ERROR tests/integration/test_api_persistence.py - ValueError: torchvision.__s...
ERROR tests/integration/test_pass1.py - ValueError: torchvision.__spec__ is n...
!!!!!!!!!!!!!!!!!!! Interrupted: 4 errors during collection !!!!!!!!!!!!!!!!!!!
======================== 3 warnings, 4 errors in 2.69s ========================
